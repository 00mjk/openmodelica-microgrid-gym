

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>omg &mdash; OpenModelica Microgrid 2020 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="omg.agents" href="omg.agents.html" />
    <link rel="prev" title="Controller Tuning Hints" href="../parts/user_guide/controller_tuning.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> OpenModelica Microgrid
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Guide:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../parts/user_guide/user_guide.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parts/user_guide/OpenModelica.html">OpenModelica</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parts/user_guide/fmu.html">Functional Mock-up Unit (FMU)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parts/user_guide/Pythoncode.html">Installation and General Remarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parts/user_guide/examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parts/user_guide/controller_tuning.html">Controller Tuning Hints</a></li>
</ul>
<p class="caption"><span class="caption-text">API:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">omg</a><ul>
<li class="toctree-l2"><a class="reference internal" href="omg.agents.html">omg.agents</a></li>
<li class="toctree-l2"><a class="reference internal" href="omg.auxiliaries.html">omg.auxiliaries</a></li>
<li class="toctree-l2"><a class="reference internal" href="omg.common.html">omg.common</a></li>
<li class="toctree-l2"><a class="reference internal" href="omg.env.html">omg.env</a></li>
<li class="toctree-l2"><a class="reference internal" href="omg.execution.html">omg.execution</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OpenModelica Microgrid</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>omg</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/omg.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="omg">
<h1>omg<a class="headerlink" href="#omg" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="omg.agents.html">omg.agents</a><ul>
<li class="toctree-l2"><a class="reference internal" href="omg.agents.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="omg.agents.agent.html">omg.agents.agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="omg.agents.safeopt.html">omg.agents.safeopt</a></li>
<li class="toctree-l3"><a class="reference internal" href="omg.agents.staticctrl.html">omg.agents.staticctrl</a></li>
<li class="toctree-l3"><a class="reference internal" href="omg.agents.util.html">omg.agents.util</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="omg.agents.html#module-openmodelica_microgrid_gym.agents">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="omg.auxiliaries.html">omg.auxiliaries</a><ul>
<li class="toctree-l2"><a class="reference internal" href="omg.auxiliaries.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="omg.auxiliaries.base.html">omg.auxiliaries.base</a></li>
<li class="toctree-l3"><a class="reference internal" href="omg.auxiliaries.inverter_controllers.html">omg.auxiliaries.inverter_controllers</a></li>
<li class="toctree-l3"><a class="reference internal" href="omg.auxiliaries.filter.html">omg.auxiliaries.filter</a></li>
<li class="toctree-l3"><a class="reference internal" href="omg.auxiliaries.params.html">omg.auxiliaries.params</a></li>
<li class="toctree-l3"><a class="reference internal" href="omg.auxiliaries.pi_controllers.html">omg.auxiliaries.pi_controllers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="omg.auxiliaries.html#module-openmodelica_microgrid_gym.auxiliaries">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="omg.common.html">omg.common</a><ul>
<li class="toctree-l2"><a class="reference internal" href="omg.common.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="omg.common.itertools_.html">omg.common.itertools_</a></li>
<li class="toctree-l3"><a class="reference internal" href="omg.common.transforms.html">omg.common.transforms</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="omg.common.html#module-openmodelica_microgrid_gym.common">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="omg.env.html">omg.env</a><ul>
<li class="toctree-l2"><a class="reference internal" href="omg.env.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="omg.env.modelica.html">omg.env.modelica</a></li>
<li class="toctree-l3"><a class="reference internal" href="omg.env.recorder.html">omg.env.recorder</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="omg.env.html#module-openmodelica_microgrid_gym.env">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="omg.execution.html">omg.execution</a><ul>
<li class="toctree-l2"><a class="reference internal" href="omg.execution.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="omg.execution.runner.html">omg.execution.runner</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="omg.execution.html#module-openmodelica_microgrid_gym.execution">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="module-openmodelica_microgrid_gym">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-openmodelica_microgrid_gym" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="openmodelica_microgrid_gym.Agent">
<em class="property">class </em><code class="sig-prename descclassname">openmodelica_microgrid_gym.</code><code class="sig-name descname">Agent</code><span class="sig-paren">(</span><em class="sig-param">history=&lt;openmodelica_microgrid_gym.env.recorder.EmptyHistory object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/openmodelica_microgrid_gym/agents/agent.html#Agent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openmodelica_microgrid_gym.Agent" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Abstract base class for all Agents. The agent can act on the environment and observe its result.
This class is aims to wrap the whole learning process into a class to simplify the implementation.</p>
<p>This class is strongly inspired by the tensorforce library.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>history</strong> (<a class="reference internal" href="omg.env.recorder.html#openmodelica_microgrid_gym.env.recorder.EmptyHistory" title="openmodelica_microgrid_gym.env.recorder.EmptyHistory"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmptyHistory</span></code></a>) – used to store agent internal data for monitoring</p>
</dd>
</dl>
<dl class="method">
<dt id="openmodelica_microgrid_gym.Agent.act">
<code class="sig-name descname">act</code><span class="sig-paren">(</span><em class="sig-param">obs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/openmodelica_microgrid_gym/agents/agent.html#Agent.act"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openmodelica_microgrid_gym.Agent.act" title="Permalink to this definition">¶</a></dt>
<dd><p>Select an action with respect to the state this might update the internal state with respect to the history.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code>) – Observation</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Actions the agent takes with respect to the observation</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="openmodelica_microgrid_gym.Agent.measurement">
<em class="property">property </em><code class="sig-name descname">measurement</code><a class="headerlink" href="#openmodelica_microgrid_gym.Agent.measurement" title="Permalink to this definition">¶</a></dt>
<dd><p>Measurements the agent takes on the environment. This data is passed to the environment.
The values returned by this property should be fully determined by the environment.
This is a workaround to provide data measurements like PLL controllers in the environment even though
they are functionally part of the Agent.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>pd.Series or list of Tuples of columns and pd.Series. The columns can be provided as nested list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="openmodelica_microgrid_gym.Agent.observe">
<code class="sig-name descname">observe</code><span class="sig-paren">(</span><em class="sig-param">reward</em>, <em class="sig-param">terminated</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/openmodelica_microgrid_gym/agents/agent.html#Agent.observe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openmodelica_microgrid_gym.Agent.observe" title="Permalink to this definition">¶</a></dt>
<dd><p>The observe function is might be called after the act function.
It might trigger the learning in some implementations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reward</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – reward from the environment after the last action</p></li>
<li><p><strong>terminated</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether the episode is finished</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="openmodelica_microgrid_gym.Agent.prepare_episode">
<code class="sig-name descname">prepare_episode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/openmodelica_microgrid_gym/agents/agent.html#Agent.prepare_episode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openmodelica_microgrid_gym.Agent.prepare_episode" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares the next episode; resets all controllers and filters (initial value of integrators…)</p>
</dd></dl>

<dl class="method">
<dt id="openmodelica_microgrid_gym.Agent.render">
<code class="sig-name descname">render</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/openmodelica_microgrid_gym/agents/agent.html#Agent.render"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openmodelica_microgrid_gym.Agent.render" title="Permalink to this definition">¶</a></dt>
<dd><p>Visualisation of the agent, e.g. its learning state or similar</p>
</dd></dl>

<dl class="method">
<dt id="openmodelica_microgrid_gym.Agent.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/openmodelica_microgrid_gym/agents/agent.html#Agent.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openmodelica_microgrid_gym.Agent.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets all agent buffers and discards unfinished episodes.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="openmodelica_microgrid_gym.ModelicaEnv">
<em class="property">class </em><code class="sig-prename descclassname">openmodelica_microgrid_gym.</code><code class="sig-name descname">ModelicaEnv</code><span class="sig-paren">(</span><em class="sig-param">time_step=0.0001</em>, <em class="sig-param">time_start=0</em>, <em class="sig-param">reward_fun=&lt;function ModelicaEnv.&lt;lambda&gt;&gt;</em>, <em class="sig-param">log_level=30</em>, <em class="sig-param">solver_method='LSODA'</em>, <em class="sig-param">max_episode_steps=None</em>, <em class="sig-param">model_params=None</em>, <em class="sig-param">model_input=None</em>, <em class="sig-param">model_output=None</em>, <em class="sig-param">model_path='../fmu/grid.network.fmu'</em>, <em class="sig-param">viz_mode='episode'</em>, <em class="sig-param">viz_cols=None</em>, <em class="sig-param">history=&lt;openmodelica_microgrid_gym.env.recorder.FullHistory object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/openmodelica_microgrid_gym/env/modelica.html#ModelicaEnv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openmodelica_microgrid_gym.ModelicaEnv" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">gym.core.Env</span></code></p>
<p>OpenAI gym Environment encapsulating an FMU model.</p>
<p>Initialize the Environment.
The environment can only be used after reset() is called.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_step</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – step size of the simulation in seconds</p></li>
<li><p><strong>time_start</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – offset of the time in seconds</p></li>
<li><p><strong>reward_fun</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]) – The function receives the observation as a pd.Series and must return the reward of this timestep as float.
In case of a failure this function should return np.nan or -np.inf or None.
Should have no side-effects</p></li>
<li><p><strong>log_level</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – logging granularity. see logging in stdlib</p></li>
<li><p><strong>solver_method</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – solver of the scipy.integrate.solve_ivp function</p></li>
<li><p><strong>max_episode_steps</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – maximum number of episode steps.
The end time of the episode is calculated by the time resolution and the number of steps.</p></li>
<li><p><strong>model_params</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>]) – <p>parameters of the FMU.</p>
<p>dictionary of variable names and scalars or callables.
If a callable is provided it is called every time step with the current time.</p>
</p></li>
<li><p><strong>model_input</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]) – list of strings. Each string representing a FMU input variable.</p></li>
<li><p><strong>model_output</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>], <code class="docutils literal notranslate"><span class="pre">None</span></code>]) – <p>nested dictionaries containing nested lists of strings.
The keys of the nested dictionaries will be flattened down and appended to their children and finally prepended
to the strings in the nested lists. The strings final strings represent variables from the FMU and the nesting
of the lists conveys structure used in the visualisation</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">{</span><span class="s1">&#39;inverter&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;condensator&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;v&#39;</span><span class="p">]}}</span>
</pre></div>
</div>
<p>results in</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="s1">&#39;inverter.condensator.i&#39;</span><span class="p">,</span> <span class="s1">&#39;inverter.condensator.v&#39;</span><span class="p">]</span>
</pre></div>
</div>
</p></li>
<li><p><strong>model_path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Path to the FMU</p></li>
<li><p><strong>viz_mode</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – <p>specifies how and if to render</p>
<ul>
<li><p>’episode’: render after the episode is finished</p></li>
<li><p>’step’: render after each time step</p></li>
<li><p>None: disable visualization</p></li>
</ul>
</p></li>
<li><p><strong>viz_cols</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>], <code class="docutils literal notranslate"><span class="pre">None</span></code>]) – <p>enables specific columns while plotting
- None: all columns will be used for vizualization (default)
- string: will be interpret as regex. all fully matched columns names will be enabled
- list of strings: Each string might be a unix-shell style wildcard like “<a href="#id1"><span class="problematic" id="id2">*</span></a>.i”</p>
<blockquote>
<div><p>to match all data series ending with “.i”.</p>
</div></blockquote>
</p></li>
<li><p><strong>history</strong> (<a class="reference internal" href="omg.env.recorder.html#openmodelica_microgrid_gym.env.recorder.EmptyHistory" title="openmodelica_microgrid_gym.env.recorder.EmptyHistory"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmptyHistory</span></code></a>) – history to store observations and measurements (from the agent) after each step</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="openmodelica_microgrid_gym.ModelicaEnv.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/openmodelica_microgrid_gym/env/modelica.html#ModelicaEnv.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openmodelica_microgrid_gym.ModelicaEnv.close" title="Permalink to this definition">¶</a></dt>
<dd><p>OpenAI Gym API. Closes environment and all related resources.
Closes rendering.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True on success</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="openmodelica_microgrid_gym.ModelicaEnv.is_done">
<em class="property">property </em><code class="sig-name descname">is_done</code><a class="headerlink" href="#openmodelica_microgrid_gym.ModelicaEnv.is_done" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the experiment is finished using a time limit</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if simulation time exceeded</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="openmodelica_microgrid_gym.ModelicaEnv.render">
<code class="sig-name descname">render</code><span class="sig-paren">(</span><em class="sig-param">mode='human'</em>, <em class="sig-param">close=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/openmodelica_microgrid_gym/env/modelica.html#ModelicaEnv.render"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openmodelica_microgrid_gym.ModelicaEnv.render" title="Permalink to this definition">¶</a></dt>
<dd><p>OpenAI Gym API. Determines how current environment state should be rendered.
Does nothing at the moment</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – (ignored) rendering mode. Read more in Gym docs.</p></li>
<li><p><strong>close</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – flag if rendering procedure should be finished and resources cleaned.</p></li>
</ul>
</dd>
</dl>
<p>Used, when environment is closed.</p>
</dd></dl>

<dl class="method">
<dt id="openmodelica_microgrid_gym.ModelicaEnv.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/openmodelica_microgrid_gym/env/modelica.html#ModelicaEnv.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openmodelica_microgrid_gym.ModelicaEnv.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>OpenAI Gym API. Restarts environment and sets it ready for experiments.
In particular, does the following:</p>
<blockquote>
<div><ul class="simple">
<li><p>resets model</p></li>
<li><p>sets simulation start time to 0</p></li>
<li><p>sets initial parameters of the model</p></li>
<li><p>initializes the model</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>state of the environment after resetting.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="openmodelica_microgrid_gym.ModelicaEnv.step">
<code class="sig-name descname">step</code><span class="sig-paren">(</span><em class="sig-param">action</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/openmodelica_microgrid_gym/env/modelica.html#ModelicaEnv.step"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openmodelica_microgrid_gym.ModelicaEnv.step" title="Permalink to this definition">¶</a></dt>
<dd><p>OpenAI Gym API. Determines how one simulation step is performed for the environment.
Simulation step is execution of the given action in a current state of the environment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>action</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>) – action to be executed.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Mapping</span></code>]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>state, reward, is done, info</p>
<p>The state also contains the measurements passed through by update_measurements</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="openmodelica_microgrid_gym.ModelicaEnv.update_measurements">
<code class="sig-name descname">update_measurements</code><span class="sig-paren">(</span><em class="sig-param">measurements</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/openmodelica_microgrid_gym/env/modelica.html#ModelicaEnv.update_measurements"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openmodelica_microgrid_gym.ModelicaEnv.update_measurements" title="Permalink to this definition">¶</a></dt>
<dd><p>Store measurements into a internal field and update the columns of the history</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>measurements</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code>]]]) – If provided as a list of tuples the first parameter of each tuple is a nested list of strings.
Each string is a column name of the pd.Series.
The nesting structure provides grouping that is used for visualization.</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="openmodelica_microgrid_gym.ModelicaEnv.viz_modes">
<code class="sig-name descname">viz_modes</code><em class="property"> = {'episode', None, 'step'}</em><a class="headerlink" href="#openmodelica_microgrid_gym.ModelicaEnv.viz_modes" title="Permalink to this definition">¶</a></dt>
<dd><p>Set of all valid visualisation modes</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="openmodelica_microgrid_gym.Runner">
<em class="property">class </em><code class="sig-prename descclassname">openmodelica_microgrid_gym.</code><code class="sig-name descname">Runner</code><span class="sig-paren">(</span><em class="sig-param">agent</em>, <em class="sig-param">env</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/openmodelica_microgrid_gym/execution/runner.html#Runner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openmodelica_microgrid_gym.Runner" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class will execute an agent on the environment.
It handles communication between agent and environment and handles the execution of multiple epochs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agent</strong> (<a class="reference internal" href="omg.agents.agent.html#openmodelica_microgrid_gym.agents.agent.Agent" title="openmodelica_microgrid_gym.agents.agent.Agent"><code class="xref py py-class docutils literal notranslate"><span class="pre">Agent</span></code></a>) – Agent that acts on the environment</p></li>
<li><p><strong>env</strong> (<a class="reference internal" href="omg.env.modelica.html#openmodelica_microgrid_gym.env.modelica.ModelicaEnv" title="openmodelica_microgrid_gym.env.modelica.ModelicaEnv"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelicaEnv</span></code></a>) – Environment tha Agent acts on</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="openmodelica_microgrid_gym.Runner.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">n_episodes=10</em>, <em class="sig-param">visualise_env=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/openmodelica_microgrid_gym/execution/runner.html#Runner.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openmodelica_microgrid_gym.Runner.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Trains/executes the agent on the environment for a number of epochs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_episodes</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – number of epochs to play</p></li>
<li><p><strong>visualise_env</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – turns on visualization of the environment</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="omg.agents.html" class="btn btn-neutral float-right" title="omg.agents" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../parts/user_guide/controller_tuning.html" class="btn btn-neutral float-left" title="Controller Tuning Hints" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Bode, Heid, Wallscheid, Weber

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>